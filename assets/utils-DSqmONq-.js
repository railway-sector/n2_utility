import{jq as b,jr as j,g6 as k}from"./index-BPPwkOiP.js";function E(t=""){return`${t}${b()}`}function F(t,d,c,o,f){const g=o.spatialReference,s=j(d,g);if(s==null)return t;let i=e=>[t[e],t[e+1],t[e+2]];s!==k&&(i=e=>(s(t,e,l,0),[l[0],l[1],l[2]]));const u=t.length/3,h=c.mode;switch(c.mode){case"on-the-ground":for(let e=0;e<u;++e){const r=3*e,[n,a]=i(r);t[r+2]=o.getElevation(n,a,0,o.spatialReference,"ground")??0}break;case"relative-to-ground":case"relative-to-scene":{const e=h==="relative-to-ground"?"ground":"scene";for(let r=0;r<u;++r){const n=3*r,[a,p,v]=i(n),R=c.calculateOffsetRenderUnits(f),m=o.getElevation(a,p,0,o.spatialReference,e)??0;t[n+2]=v+R+m}}break;case"absolute-height":for(let e=0;e<u;++e){const r=3*e,n=t[r+2],a=c.calculateOffsetRenderUnits(f);t[r+2]=n+a}}return t}const l=new Float64Array(3);export{F as n,E as r};
